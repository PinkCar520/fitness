# 产品需求拆解 (Breakdown): 应用导航与核心功能区重构 V3.0

**文档版本:** 1.0
**关联PRD:** `prd_v3_navigation_refactor.md`
**日期:** 2025-10-15
**负责人:** (产品经理)

---

**总目标 (Epic):** 对应用信息架构进行全面重构，提升导航清晰度，明确功能区定位，为未来发展奠定基础。

--- 

### **第一部分：设置功能迁移 (Feature: Settings Migration)**
*目标：将所有设置项统一收归到由“概览”页进入的独立页面。*

**需求点 1.1: 创建“个人资料与设置”主页面**
- **用户故事:** 作为一个用户，我希望能从“概览”页的右上角访问一个集中的“个人资料与设置”页面，以便我能方便地找到所有App的配置选项。
- **验收标准 (AC):**
    1.  在“概览”页的导航栏右上角，有一个清晰可辨的用户头像或齿轮图标。
    2.  点击该图标，能以模态（Modal）或推送（Push）的方式，打开一个新的主视图，页面标题为“个人资料与设置”。
    3.  该视图应为一个标准的导航列表（`NavigationView`）。

**需求点 1.2: 迁移现有的设置子模块**
- **用户故事:** 作为一个开发者，我希望能直接复用现有的、功能稳定的设置子页面（如外观、通知等），以提高开发效率并保证功能一致性。
- **验收标准 (AC):**
    1.  在“个人资料与设置”主页面的列表中，必须包含以下导航入口，且功能与当前版本保持一致：
        -   `账户管理` (指向 `BasicInfoSettingsView`)
        -   `外观` (指向 `AppearanceSettingsView`)
        -   `通知` (指向 `NotificationSettingsView`)
        -   `数据管理` (指向 `DataPrivacySettingsView`)
        -   `关于与反馈` 等其他静态页面。
    2.  点击每个入口，都能正确跳转到对应的子页面。

---

### **第二部分：核心导航与页面重构 (Feature: Core Navigation & Page Refactor)**
*目标：实现全新的底部五标签导航结构，并为新页面建立基本框架。*

**需求点 2.1: 实现新的五标签导航栏**
- **用户故事:** 作为一个用户，我希望在屏幕底部看到并使用“概览”、“计划”、“身体档案”、“统计”、“好友”这五个固定的标签页，以便我可以在App的核心功能区之间快速切换。
- **验收标准 (AC):**
    1.  应用的根视图 `ContentView` 被重构，其 `TabView` 包含五个标签项。
    2.  五个标签项的顺序、图标和标题严格按照 `概览`、`计划`、`身体档案`、`统计`、`好友` 的顺序排列。
    3.  点击每个标签，都能切换到其对应的根视图。

**需求点 2.2: 创建“好友”标签页的占位符视图**
- **用户故事:** 作为一个对社交功能感兴趣的用户，当我点击“好友”标签时，我希望能看到一个友好的提示页面，告诉我这个功能即将到来，以便管理我的预期。
- **验收标准 (AC):**
    1.  “好友”标签页的根视图为 `FriendsView`。
    2.  `FriendsView` 页面中包含清晰的插画和文案，例如“好友功能正在开发中，敬请期待！”，而非一个空白或错误的页面。

---

### **第三部分：“身体档案”页面重构 (Feature: Body Profile Page Rebuild)**
*目标：构建一个全新的、聚焦于身体物理指标的专属数据中心。*

**需求点 3.1: 构建`BodyProfileView`新结构与数据流**
- **用户故事:** 作为一个关注自身身体变化的用户，我希望“身体档案”这个页面能清晰地展示我的体重、体脂等核心指标的当前值和历史趋势，让我可以直观地看到自己的变化。
- **验收标准 (AC):**
    1.  创建一个全新的 `BodyProfileView.swift` 文件作为此页面的根视图。
    2.  该视图的数据逻辑**必须只**获取和处理身体物理指标（如体重、体脂、围度等）。
    3.  页面顶部有一个仪表盘区域，展示当前最重要的几项指标。
    4.  页面包含一个或多个交互式图表，用于可视化数据的长期趋势。
    5.  页面右下角有一个悬浮操作按钮（FAB），点击后可以弹出 `InputSheetView` 以录入新数据。

**需求点 3.2: 复用底层UI组件**
- **用户故事:** 作为一个开发者，我希望在构建新的`BodyProfileView`时，能复用项目中已有的通用图表和卡片组件，以保证视觉风格的统一并减少重复开发。
- **验收标准 (AC):**
    1.  页面顶部的仪表盘，其卡片样式需复用项目中已有的 `DataCardView` 组件。
    2.  数据趋势图表，需复用项目中已有的 `LineChartView` 或其他图表组件，并传入新的身体指标数据流。

---

### **第四部分：“统计”页面重构 (Feature: Stats Page Rebuild)**
*目标：构建一个全新的、聚焦于运动行为和表现的专属分析中心。*

**需求点 4.1: 构建`StatsView`新结构与数据流**
- **用户故事:** 作为一个关注运动表现的用户，我希望“统计”这个页面能帮我分析我的训练频率、训练量和运动PR，让我可以量化我的努力并据此调整训练。
- **验收标准 (AC):**
    1.  创建一个全新的 `StatsView.swift` 文件作为此页面的根视图。
    2.  该视图的数据逻辑**必须只**获取和处理运动行为数据（如训练记录、跑步数据、步数等）。
    3.  页面布局需重新设计，以突出展示运动频率、时长、PR等表现类数据。
    4.  页面需包含用于分析训练量、运动类型分布等的统计图表。
